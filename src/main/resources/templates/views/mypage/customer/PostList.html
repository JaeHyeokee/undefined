<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css/mypage/customer/PostList.css}">
    <title>Title</title>
</head>
<body>
<!-- 헤더 -->
<th:block th:insert="~{common/Header::header}"></th:block>

<div class="container">
    <th:block th:insert="~{mypage/customer/NavMenu::nav-menu}"></th:block>
    <div>
        <h2 id="body-head">내 후기 리스트</h2>
        <div th:if="${not #lists.isEmpty(userPost)}">
            <div class="userPost" th:each="userPost : ${userPost}">
                <div id="postHeader" style="display: flex; justify-content: space-between; align-items: center">
                    <div id="div1">
                        <img id="lodgingPicture" th:src="${userPost.lodgingPicture1}"/>
                    </div>
                    <div id="div2">
                        <p id="lodgingName" th:text="${userPost.lodgingName} + ' - ' + ${userPost.roomName}"></p>
                        <p id="lodgingType" th:text="${userPost.lodgingType}"></p>
                    </div>
                    <div id="div3">
                        <div class="stars" th:attr="data-star-count=${userPost.postGrade}">
                            <span class="star">&#9733;</span>
                            <span class="star">&#9733;</span>
                            <span class="star">&#9733;</span>
                            <span class="star">&#9733;</span>
                            <span class="star">&#9733;</span>
                        </div>
                        <div class="dateTime" th:text="${userPost.startDate} + ' - ' + ${userPost.endDate}"></div>
                    </div>
                </div>
                <div>
                    <div id="postText" th:text="${userPost.postText}"></div>
                    <div id="postPicture" th:text="${userPost.postPicture}"></div>
                </div>
                <div id="btnDiv">
                    <div id="update">
                        <a id="update1" th:href="@{'/mypage/customer/PostUpdate/' + ${userPost.userId} + '/' + ${userPost.postId}}">수정</a>
                    </div>
                    <form th:action="@{/mypage/customer/PostDelete}" method="post" style="display:inline;">
                        <input type="hidden" name="postId" th:value="${userPost.postId}"/>
                        <input type="hidden" name="userId" th:value="${userPost.userId}"/>
                        <button id="delete" type="submit">삭제</button>
                    </form>
                </div>
            </div>

        </div>
        <!-- 후기가 없는 경우 -->
        <div th:if="${#lists.isEmpty(userPost)}">
            <p class="post-null">등록된 후기가 없습니다.</p>
        </div>
    </div>
</div>

<script th:src="@{/js/mypage/customer/PostList.js}"></script>
<!-- 푸터 -->
<th:block th:insert="~{common/Footer::footer}"></th:block>
</body>
</html>