<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" th:href="@{/css/mypage/customer/BookingList.css}">
    <script th:src="@{/js/mypage/customer/BookingList.js}"></script>
    <title>예약 내역</title>
</head>

<body>
<!-- 헤더 -->
<th:block th:insert="~{common/Header::header}"></th:block>

<main>
    <!-- 좌측 네비게이션 메뉴 -->
    <th:block th:insert="~{mypage/customer/NavMenu::nav-menu}"></th:block>

    <section class="booking-list">
        <h1>예약 내역</h1>
        <div class="filter-container">
            <div class="filter-frame">
                <label for="accommodation-type">숙소 분류</label>
                <select id="accommodation-type">
                    <option value="">전체</option>
                    <option value="호텔">호텔</option>
                    <option value="펜션/리조트">펜션/리조트</option>
                    <option value="모텔">모텔</option>
                </select>
            </div>
            <div class="filter-frame">
                <label for="time-period">날짜 범위</label>
                <select id="time-period">
                    <option value="3months">전체</option>
                    <option value="3months">최근 3개월</option>
                    <option value="6months">최근 6개월</option>
                    <option value="1year">최근 1년</option>
                </select>
            </div>
            <img class="btn-search" th:src="@{/image/mypage/customer/IconSearch.png}" alt="">
        </div>

        <h3>이용 전</h3>
        <div class="before-use-frame">
            <div class="lodging-info-frame">
                <div class="lodging-info-inner">
                    <img class="lodging-img" th:src="@{/image/NoImage.png}" alt="">
                    <div class="booking-info">
                        <p class="lodging-name">서울역 더 디자이너스</p>
                        <p class="room-name">비즈니스 트윈</p>
                        <p class="room-name">1박</p>
                    </div>
                </div>
                <a href="#">예약 상세</a>
            </div>
            <div class="check-date-frame">
                <label>
                    체크인
                    <p>2024.06.26</p>
                </label>
                <label>
                    체크아웃
                    <p>2024.06.27</p>
                </label>
                <label>
                    결제 금액
                    <p>130,000원</p>
                </label>
                <a class="btn-booking-cancel" href="#">예약 취소</a>
            </div>
        </div>
        <h3 class="h3-after-use">이용 후</h3>
        <table>
            <thead>
            <tr>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Pay Type</th>
                <th>Pay</th>
                <th>Room ID</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="booking : ${booking}">
                <td th:text="${booking.bookingStartDate}"></td>
                <td th:text="${booking.bookingEndDate}"></td>
                <td th:text="${booking.bookingPayType}"></td>
                <td th:text="${booking.bookingPay}"></td>
                <td th:text="${booking.roomId}"></td>
                <td>
                    <form th:action="@{/mypage/customer/deleteBooking/{userId}/{bookingId}(userId=${userId}, bookingId=${booking.bookingId})}" method="post">
                        <input type="hidden" name="userId" th:value="${userId}">
                        <input type="hidden" name="bookingId" th:value="${bookingId}">
                        <input type="submit" value="삭제">
                    </form>
                </td>
            </tr>
            </tbody>
        </table>
    </section>
</main>

<!-- 푸터 -->
<th:block th:insert="~{common/Footer::footer}"></th:block>
</body>
</html>